/*
 * File: app/store/eng_qualitycheck_todolist.js
 *
 * This file was generated by Sencha Architect version 3.5.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.4.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.4.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('liftnet.store.eng_qualitycheck_todolist', {
    extend: 'Ext.data.Store',

    requires: [
        'Ext.data.Field'
    ],

    config: {
        storeId: 'eng_qualitycheck_todolist',
        fields: [
            {
                name: 'icon'
            },
            {
                name: 'qualityname'
            },
            {
                name: 'qualityid'
            },
            {
                name: 'count'
            }
        ]
    },

    loadDat: function(onSuccess, onFailure, parm) {
        var me = this;

        if(global.isWorklight()) {
            // adapter取数
            var url = '/adapters/quality/api/1.0/qualitylist';
            var userid = global.getUserId();
            var adapterParm = {userid:userid};

            this.setData([
                { qualityid:'A',icon:'ln3 ln3-first', qualityname:'首检', count:'12' },
                { qualityid:'B',icon:'ln3 ln3-spanner', qualityname:'自检', count:'5' },
                { qualityid:'C',icon:'ln3 ln3-find-checkmark', qualityname:'专检', count:'3' },
                { qualityid:'D',icon:'ln3 ln3-year', qualityname:'年检', count:'20' },
                { qualityid:'E',icon:'ln3 ln3-check', qualityname:'抽检', count:'2' },
                { qualityid:'F',icon:'ln3 ln3-reload', qualityname:'整改', count:'1' },
            ]);

            onSuccess();

        //     callPostAdapter(
        //         url, adapterParm,
        //         function(ret) {
        //             if(ret.status.code!=200){
        //                 onFailure('读取质检任务列表失败');
        //             }else{
        //                 var d = me.decoDat(ret.data);
        //                 me.setData(d);
        //                 onSuccess();
        //             }
        //         },
        //         function() {
        //             onFailure('读取质检任务列表失败');
        //         }
        //         );

        } else {
            this.setData([
                { qualityid:'A',icon:'ln3 ln3-first', qualityname:'首检', count:'12' },
                { qualityid:'B',icon:'ln3 ln3-spanner', qualityname:'自检', count:'5' },
                { qualityid:'C',icon:'ln3 ln3-find-checkmark', qualityname:'专检', count:'3' },
                { qualityid:'D',icon:'ln3 ln3-year', qualityname:'年检', count:'20' },
                { qualityid:'E',icon:'ln3 ln3-check', qualityname:'抽检', count:'2' },
                { qualityid:'F',icon:'ln3 ln3-reload', qualityname:'整改', count:'1' },
            ]);

            onSuccess();
        }
    },

    decoDat: function(data) {
        if(!data) return([]);
        var icons = {
            'A':'ln3 ln3-first',
            'B':'ln3 ln3-find-checkmark',
            'C':'ln3 ln3-year',
            'D':'ln3 ln3-check',
            'E':'ln3 ln3-spanner',
            'F':'ln3 ln3-reload'

        };
                for(var i=0;i<data.length; i++) {
                    data[i].icon = icons[data[i].qualityid];
        //             switch(data[i].qualityname) {
        //                 case '首检':
        //                     data[i].icon = 'ln3 ln3-first';
        //                     break;

        //                 case '自检':
        //                     data[i].icon = 'ln3 ln3-spanner';
        //                     break;

        //                 case '专检':
        //                     data[i].icon = 'ln3 ln3-find-checkmark';
        //                     break;
        //                 case '年检':
        //                     data[i].icon = 'ln3 ln3-year';
        //                     break;
        //                 case '抽检':
        //                     data[i].icon = 'ln3 ln3-check';
        //                     break;
        //                 case '整改':
        //                     data[i].icon = 'ln3 ln3-reload';
        //                     break;
        //             }
                }

                return(data);
    },

    updateDat: function(onSuccess, onFailure, parm) {

    },

    filteDat: function(parm) {

    }

});