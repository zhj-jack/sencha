/*
 * File: app/store/cu_cudetail.js
 *
 * This file was generated by Sencha Architect version 3.5.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.4.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.4.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('liftnet.store.cu_cudetail', {
    extend: 'Ext.data.Store',

    requires: [
        'Ext.data.Field'
    ],

    config: {
        storeId: 'cu_cudetail',
        fields: [
            {
                name: 'custid'
            },
            {
                name: 'cstname'
            },
            {
                name: 'principal'
            },
            {
                name: 'purveyor'
            },
            {
                name: 'address'
            },
            {
                name: 'mugaddress'
            },
            {
                name: 'phone'
            },
            {
                name: 'fax'
            },
            {
                name: 'postno'
            },
            {
                name: 'bank'
            },
            {
                name: 'accounts'
            },
            {
                name: 'identificationnumber'
            },
            {
                name: 'licensenumber'
            },
            {
                name: 'sort'
            },
            {
                name: 'r13'
            },
            {
                name: 'rem1'
            },
            {
                name: 'levelid'
            },
            {
                name: 'levelename'
            },
            {
                name: 'typeid'
            },
            {
                name: 'typename'
            },
            {
                name: 'r7'
            },
            {
                name: 'createname'
            },
            {
                name: 'r2'
            },
            {
                name: 'createdept'
            },
            {
                name: 'linkerbean'
            },
            {
                name: 'flowuserlist'
            },
            {
                name: 'r8'
            },
            {
                name: 'r9'
            }
        ]
    },

    loadDat: function(onSuccess, onFailure, custid) {
        var me = this;

        if(global.isWorklight()) {
            // adapter取数
            var url = '/adapters/mugcustomer/api/1.0/khdetail';
            var userid = global.getUserId();
            var adapterParm = {custid:custid, userid:userid};

            console.log('-----传到后台的参数-----');
            console.log(adapterParm);
            console.log('-----传到后台的参数-----');
            callPostAdapter(
                url, adapterParm,
                function(ret) {
                    me.setData(ret.data);
                    console.log(me.getData());
                    onSuccess(1);
                },
                onFailure);
        } else {
            // 查看客户明细-演示数据
            this.setData([
                {
                    // 页面显示的字段
                    custid: 			'CB1600000023',
                    cstname:			'广州中梯物联',//客户名称
                    principal:			'测试法定代理人',//法定代理人
                    purveyor:			'',//承办人
                    address:			'广东省广州市荔湾区蓬莱路3-5号',//客户地址
                    mugaddress:			'',//保养电梯地址
                    phone:				'13002007123',//客户联络电话
                    fax:				'1236547',//传真
                    postno:				'510000',//邮政编码
                    bank:				'广州银行',//银行
                    accounts: 			'cszh123654',//账号
                    identificationnumber:			'SDTGWXFAFASF',//纳税识别号
                    licensenumber:		'GZ46976635',//营业执照号码
                    sort:				'',//类型
                    r13:				'测试财务联系人',//财务联系人
                    rem1:				'测试备注',//备注
                    levelid:			'B',//客户级别ID
                    levelename:			'普通客户',//客户级别
                    typeid:				'02',//客户分类ID
                    typename:			'维保公司',//客户分类
                    r7:					'广东省教育厅政务服务中心',//上级客户名称
                    r8: 				'Y',
                    r9:					'123456',
                    createname:			'吴维',//创建人名称
                    r2:					'2016-04-22',//创建时间
                    createdept:			'维保事业部',//创建人所属部门
                    linkerbean:[{		//客户联系人
                        contractman:	'张三',//联系人
                        mbphone:		'12341352',//电话
                        ob1:			'经理',//职务
                        othercontact:	'QQ10924712',//其他联系方式
                        remail:			'测试备注'//备注
                    },{
                        contractman:	'李四',//联系人
                        mbphone:		'18520',//电话
                        ob1:			'老总',//职务
                        othercontact:	'email——asdgag@ad.ca',//其他联系方式
                        remail:			'测试备注'
                    }],
                    flowuserlist:[{		//客户跟进人
                        flowuserid: 	'wuwei',//跟进人ID,
                        storageid:		'1300010',//部门ID
                        flowuser:		'吴维',//跟进人名
                        storagename:	'维保事业部',//跟进人所属部门
                        remark:			''//备注
                    },{
                        flowuserid: 	'liguang',//跟进人ID,
                        storageid:		'1300020',//部门ID
                        flowuser:		'李光',//跟进人名
                        storagename:	'维保一组',//跟进人所属部门
                        remark:			''//备注
                    }]
                }
            ]);
            onSuccess(1);
        }
    }

});